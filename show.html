<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notifications | Document Rejected Signature Sms Notification</title>
  </head>
  <body>
    <h1>Document Rejected Signature Sms Notification</h1>
    <form
      action="http://localhost/test/notifications/show?class=\App\Notifications\Documents\DocumentRejectedSignatureSmsNotification"
      method="post"
    >
      <input
        class="input"
        type="hidden"
        name="_token"
        value="rRx7seuyKmxn0BUW7OjfcyPqkz1FFIg3UYjQJxS2"
      />
      <table>
        <tbody>
          <tr>
            <th>Parameters</th>
          </tr>
          <tr>
            <td>document * (ID)</td>
            <td>
              <input
                class="input clear"
                name="document"
                id="document"
                type="text"
              />
            </td>
            <td></td>
          </tr>
          <tr>
            <td>signer * (ID)</td>
            <td>
              <input
                class="input clear"
                name="signer"
                id="signer"
                type="text"
              />
            </td>
            <td>
              <select class="input clear" name="signer_type">
                <option value="App\Models\Contact">Contact</option>
                <option value="App\Models\User">User</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>Notifiable (User ID)</th>
            <td>
              <input
                class="input clear"
                name="user_id"
                id="user_id"
                type="number"
              />
            </td>
          </tr>
        </tbody>
      </table>
      <input class="input" type="hidden" name="render" value="1" />
      <input id="submit" type="submit" value="Render" />
    </form>
    <script>
      const newURL = new URL("https://thisisyourbit.com")
      const params = document.querySelectorAll(".input")
      const inputs = document.querySelectorAll(".clear")
      const sub = document.querySelector("#submit")
      params.forEach((x) => {
        x.addEventListener("change", (updateValue) => {
          x.style.outline = "none"
          setURL()
        })
      })
      let setURL = () => {
        params.forEach((x) => {
          newURL.searchParams.set(x.name, x.value)
          console.log(newURL.toString())
        })
        sub.setAttribute("href", newURL.toString())
      }
      sub.addEventListener("click", (e) => {
        inputs.forEach((x) => {
          if (!x.value) {
            x.style.outline = "red 2px solid"
            e.preventDefault()
          }
        })
      })
    </script>
  </body>
</html>
